<div>
    <label>Select branching factor</label>
    <input
      id="input-branching-factor"
      type="number"
      @bind="branchingFactor"
    />
    <label>Select tree depth</label>
    <input
      id="input-tree-depth"
      type="number'"
      @bind="treeDepth"
    />
    <button id="btn-generate" @onclick="generate">Generate tree</button>
    <button id="btn-generate-simple" @onclick="generateSimple">Generate simpler component tree</button>
    <div>@count</div>
    <button id="btn-increment-root" @onclick="increment">Update root</button>
    @if(initialized) {
    <div>
        @if(nodeType == 1) {
            @for(int i = 0; i < branchingFactor; i += 1) {
                <Node @key="@i" BranchingFactor="@branchingFactor" SubtreeDepth="@getSubtreeDepth()" />
            }
        }
        @if(nodeType == 2) {
            @for(int i = 0; i < branchingFactor; i += 1) {
                <Node2 @key="@i" BranchingFactor="@branchingFactor" SubtreeDepth="@getSubtreeDepth()" />
            }
        }
    </div>
    }
</div>

@code {
    int branchingFactor =  0;
    int treeDepth =  0;
    bool initialized = false;
    int count =  0;
    int nodeType = 1;
    
    public void generate() {
        initialized = true;
    }

    public void generateSimple() {
        nodeType = 2;
        initialized = true;
    }

    public void increment() {
        count += 1;
    }

    public int getSubtreeDepth() {
        return treeDepth - 1;
    }

}